<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>üéß Audio Transcriber | TaskHub</title>
  <link rel="stylesheet" href="../css/style.css" />
</head>
<body>
  <main class="tool-container">
    <h1>üéß Audio Transcriber</h1>
    <p>Upload an English audio file (.mp3 or .wav) and get the full transcription below.</p>

    <form id="uploadForm" enctype="multipart/form-data">
      <input type="file" name="audio" accept="audio/*" required />
      <button type="submit">Transcribe Audio</button>
    </form>

    <section id="resultBox" style="margin-top: 20px;">
      <h2>Transcription Result</h2>
      <pre id="outputText">Your transcription will appear here...</pre>
    </section>

    <script>
      const form = document.getElementById('uploadForm');
      form.addEventListener('submit', async (e) => {
        e.preventDefault();
        const file = form.audio.files[0];
        if (!file) return alert('Please upload a file!');
        const formData = new FormData();
        formData.append('audio', file);

        document.getElementById('outputText').innerText = '‚è≥ Transcribing... please wait...';

        const res = await fetch('/api/transcribe', {
          method: 'POST',
          body: formData
        });
        const text = await res.text();
        document.getElementById('outputText').innerText = text;
      });
    </script>
  </main>
</body>
</html>
